<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å¿ƒç¯ï½œå®™ã®ãƒªã‚ºãƒ å ã„</title>
  <style>
    body { font-family: "Hiragino Sans", "Yu Gothic", sans-serif; background: #fafafa; color: #333; margin: 0; }
    header { text-align: center; padding: 2em 1em; background: linear-gradient(135deg, #aee1f9, #f6d6ff); }
    header h1 { margin: 0; font-size: 2em; color: #222; }
    header p { margin: 0.5em 0 0; font-size: 0.9em; color: #555; }

    section { max-width: 720px; margin: 2em auto; padding: 1.5em; background: white; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); }
    section h2 { border-left: 6px solid #b48ef7; padding-left: 0.5em; font-size: 1.3em; color: #444; }

    .ranking-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
    .rank-item { border: 1px solid #eee; border-radius: 10px; padding: 0.6em; background: #fdfcff; }
    .rank-item .no { font-weight: bold; color: #6a4fbf; }
    .meta { font-size: 0.8em; color: #555; }

    table { width: 100%; border-collapse: collapse; }
    th, td { border: 1px solid #eee; padding: 0.5em; text-align: left; }
    th { background: #f3f0fa; width: 30%; }

    footer { text-align: center; font-size: 0.8em; color: #666; margin: 3em 0 2em; }
    .loading { text-align: center; color: #aaa; font-size: 0.9em; }
  </style>
</head>
<body>

<header>
  <h1>å¿ƒç¯ï½œå®™ã®ãƒªã‚ºãƒ å ã„</h1>
  <p>ç†ã§å°ãã€ã‚„ã•ã—ã•ã§åŒ…ã‚€ â€” æ‰ç”°æµãƒ»å¿ƒã®èª¿å¾‹</p>
  <p id="today-date" style="margin-top:0.3em;font-size:0.9em;color:#555;"></p>
</header>

<main>
  <section id="daily">
    <h2>ğŸŒ• ä»Šæ—¥ã®ç¯</h2>
    <div id="daily-content" class="loading">èª­ã¿è¾¼ã¿ä¸­...</div>
  </section>

  <section id="weather">
    <h2>ğŸŒ¤ å®™ã®å¤©æ°—ï¼ˆå¹²æ”¯Ã—äº”è¡Œï¼‰</h2>
    <div id="weather-content" class="loading">èª­ã¿è¾¼ã¿ä¸­...</div>
  </section>

  <section id="topics">
    <h2>ğŸ”® ä¸‰å¤§é‹ãƒˆãƒ”ãƒƒã‚¯</h2>
    <ul id="topics-content" class="loading"></ul>
  </section>

  <section id="lucky">
    <h2>ğŸ€ ã‚¯ã‚¤ãƒƒã‚¯é–‹é‹ãƒ‘ãƒãƒ«</h2>
    <table id="lucky-content" class="loading"></table>
  </section>

  <section id="ranking">
    <h2>ğŸ‰ å¹²æ”¯ãƒ©ãƒ³ã‚­ãƒ³ã‚°</h2>
    <div id="ranking-content" class="ranking-grid loading"></div>
  </section>

  <section id="blog">
    <h2>ğŸ’« å¿ƒã®èª¿å¾‹ãƒãƒ¼ãƒˆ</h2>
    <div id="blog-content" class="loading"></div>
  </section>
</main>

<footer>
  <p>Â© å¿ƒç¯ â€“ å®™ã®ãƒªã‚ºãƒ å ã„ / produced by ä¸€è¼</p>
</footer>

<script>
const GIST = {
  daily:  "https://gist.githubusercontent.com/toybox917-cell/5cc5efcc825f7cc57f0e7b49ff9dc7c5/raw",
  weather:"https://gist.githubusercontent.com/toybox917-cell/95124527b68524c2b4d551c7cbb5a14b/raw",
  topics: "https://gist.githubusercontent.com/toybox917-cell/3499c5dfebf2462208ad234120be087a/raw",
  lucky:  "https://gist.githubusercontent.com/toybox917-cell/ffbaf45b1edb1c11d2a3e814e76066fa/raw",
  ranking:"https://gist.githubusercontent.com/toybox917-cell/c344ff836842c63913079d0a3637f1fb/raw",
  blogs:[
    "https://gist.githubusercontent.com/toybox917-cell/77f34ebf969517f68d842b7be379b7fa/raw",
    "https://gist.githubusercontent.com/toybox917-cell/5fedbdbfd6464f26351946495e472eb6/raw",
    "https://gist.githubusercontent.com/toybox917-cell/435d9bc589b417dcdc4c4e83d0a4b2c2/raw"
  ]
};

// ğŸŒ ä»Šæ—¥ã®æ—¥ä»˜ã‚’è¡¨ç¤º
const d = new Date();
const w = ["æ—¥","æœˆ","ç«","æ°´","æœ¨","é‡‘","åœŸ"][d.getDay()];
const today = `${d.getFullYear()}å¹´${d.getMonth()+1}æœˆ${d.getDate()}æ—¥ï¼ˆ${w}ï¼‰`;
document.getElementById("today-date").textContent = "ğŸŒ™ æœ¬æ—¥ï¼š" + today;

// å„Gistã®èª­ã¿è¾¼ã¿
async function loadContent(id, url) {
  try {
    const res = await fetch(url);
    if (!res.ok) throw new Error("èª­ã¿è¾¼ã¿å¤±æ•—");
    const text = await res.text();
    document.getElementById(id).innerHTML = text;
  } catch (err) {
    document.getElementById(id).innerHTML = `<p style="color:#999;">âš ï¸ èª­ã¿è¾¼ã¿ã§ãã¾ã›ã‚“ã§ã—ãŸ</p>`;
  }
}

loadContent("daily-content", GIST.daily);
loadContent("weather-content", GIST.weather);
loadContent("topics-content", GIST.topics);
loadContent("lucky-content", GIST.lucky);
loadContent("ranking-content", GIST.ranking);

// ãƒ–ãƒ­ã‚°3ä»¶
(async ()=>{
  let blogHTML = "";
  for (let url of GIST.blogs) {
    try {
      const res = await fetch(url);
      const txt = await res.text();
      const lines = txt.split("\n");
      const title = lines[0];
      const body = lines.slice(1).join("<br>");
      blogHTML += `<article style="margin-bottom:1.5em;">
        <h3 style="margin:0 0 .2em;color:#6a4fbf;">${title}</h3>
        <p style="margin:0;font-size:0.9em;color:#555;">${body}</p>
      </article>`;
    } catch {
      blogHTML += `<p style="color:#999;">âš ï¸ èª­ã¿è¾¼ã¿ã§ãã¾ã›ã‚“ã§ã—ãŸ</p>`;
    }
  }
  document.getElementById("blog-content").innerHTML = blogHTML;
})();
</script>

</body>
</html>
